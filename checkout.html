<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stripe Payment Integration</title>
    <script src="https://js.stripe.com/v3/"></script>
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.2/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./styles/style.css">
</head>

<body>
    <div class="alert-messages text-center"></div>
    <div class="container mt-5 p-0">
        <div id="myAccHero" class="d-flex justify-content-between align-items-center">
            <div>
                <a href="javascript:history.back();" class="text-decoration-none text-dark"><i
                        class="fas fa-arrow-left"></i> Back </a>
                <h3 class="fw-bold fs-2">Checkout</h3>
            </div>
            <div id="product_counter"></div>
        </div>
        <hr class="py-3">
        <div class="row mt-5">
            <div class="col-md-7 col-xl-7 col-sm-12 border-end">
                <div class="list-group">
                    <div id="notifier"></div>
                    <table class="table">
                        <thead>
                            <tr class="p-2">
                                <th class="text-start">#</th>
                                <th class="ps-5">Product</th>
                                <th class="">Price</th>
                            </tr>
                        </thead>
                        <tbody id="checkout-list"></tbody>
                    </table>
                    <div class="mb-1 justify-content-between d-flex ps-2 pe-2">
                        <div class="div table">Total:</div>
                        <div class="px-4 fw-medium" id="checkoutPriceTotal"></div>
                    </div>
                </div>
            </div>
            <div class="col-md-5 col-xl-5 col-sm-12 p-3">
                <div id="checkoutForm_stripe">
                    <div class="stripe_loader flex-column">
                        <svg class="w-25 loader opacity-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
                            <circle fill="#9A031E" stroke="#9A031E" stroke-width="15" r="15" cx="40" cy="65">
                                <animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;"
                                    keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="-.4"></animate>
                            </circle>
                            <circle fill="#9A031E" stroke="#9A031E" stroke-width="15" r="15" cx="100" cy="65">
                                <animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;"
                                    keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="-.2"></animate>
                            </circle>
                            <circle fill="#9A031E" stroke="#9A031E" stroke-width="15" r="15" cx="160" cy="65">
                                <animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;"
                                    keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="0"></animate>
                            </circle>
                        </svg>
                        <p class="pt-1 loader opacity-0">Loading payment platform</p>
                    </div>
                    <form id="payment-form" class="opacity-0">
                        <div id="address-element" class="my-2"></div>
                        <div id="payment-element"></div>
                        <button id="submit" class="stripe_pay">
                            <div class="spinner hidden" id="spinner"></div>
                            <span id="button-text">Pay now</span>
                            <div id="payment-message" class="hidden"></div>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
    <script src="./scripts/stripe.js"></script>
    <script>
        const loaders = document.querySelectorAll('.loader');
        loaders.forEach(item => {
            item.classList.remove('opacity-0');
            item.classList.add('fadeIn');
        }, 2500);
    </script>
</body>

</html>